---
title: vue2的模版解析过程
group: vue
toc: content
---

模版解析的过程，总的来说，就是将<template></template>中的类 html 的字符串解析成
真正的 html。大致需要三步走：

- 模版解析阶段：将一堆模板字符串用正则等方式解析成抽象语法树 AST；此过程使用大
  量的正则，对 template 字符串进行解析，对标签，指令，属性等抽象成 AST 语法树
  。
- 优化阶段：遍历 AST，找出其中的静态节点，并打上标记；遍历整个 AST 树，找到其
  中的一些静态节点并进行标记，方便在页面重新渲染的时候进行 diff 比较时，直接跳
  过静态节点，优化 runtime 的性能
- 代码生成阶段：将 AST 转换成渲染函数。
