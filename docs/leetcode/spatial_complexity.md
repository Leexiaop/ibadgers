---
title: 算法性能分析之空间复杂度
group: 其他
order: 3
toc: content
---

## 什么是空间复杂度

空间复杂度是一个算法在运行过程中占用内存空间大小的度量，记做 S(n) = O(f(n)).空间
复杂度(Space Complexity)记作 S(n) 依然使用大 O 来表示。利用程序的空间复杂度，可
以对程序运行中需要多少内存有个预先估计。

### 空间复杂度是考虑程序（可执行文件）的大小么?

`空间复杂度是考虑程序运行时占用内存的大小，而不是可执行文件的大小!`

### 空间复杂度是精准算出程序运行时所占内存么？

不要以为空间复杂度就已经精准的掌握了程序的内存使用大小，很多因素会影响程序真正内
存使用大小，例如编译器的内存对齐，编程语言容器的底层实现等等这些都会影响到程序内
存的开销。所以空间复杂度是预先大体评估程序内存使用的大小。

说到空间复杂度，我想同学们在 OJ（online judge）上应该遇到过这种错误，就是超出内
存限制，一般 OJ 对程序运行时的所消耗的内存都有一个限制。为了避免内存超出限制，这
也需要我们对算法占用多大的内存有一个大体的预估。

同样在工程实践中，计算机的内存空间也不是无限的，需要工程师对软件运行时所使用的内
存有一个大体评估，这都需要用到算法空间复杂度的分析。

- 什么时候的空间复杂度是 O(1)

```js
let j = 0;
for (let i = 0; i < n; i++) {
  j++;
}
```

着 n 的变化，所需开辟的内存空间并不会随着 n 的变化而变化。即此算法空间复杂度为一
个常量，所以表示为大 O(1)。

- 什么时候的空间复杂度是 O(n)? 当消耗空间和输入参数 n 保持线性增长，这样的空间
  复杂度为 O(n)。

```js
let arr = [];
for (let i = 0; i < n; i++) {
  arr[i] = i;
}
```

这个数组占用的大小为 n，虽然有一个 for 循环，但没有再分配新的空间，因此，这段代
码的空间复杂度主要看第一行即可，随着 n 的增大，开辟的内存大小呈线性增长，即
O(n)。
